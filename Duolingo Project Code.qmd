---
title: "Duolingo Project Code"
author: "Michael Chrzan, Alexa Sparks, Tracy Li"
format: html
editor: visual
---

# Setup

## Libraries

Which libraries will we use and why?

```{r libraries}
library(tidyverse)
library(skimr)
library(naniar)
```

## Import Data

```{r import-data}
duodata <- read_csv("data_flatformat.csv")
```

# Examine Data

```{r}
glimpse(duodata)
duoskim <- skim(duodata)
duoskim
```

## Sample Data

```{r sample}
set.seed(1234)
duosample <- sample_n(duodata, 2622956/54)
```

```{r viz-missing}
vis_miss(duosample, 
         show_perc = TRUE) 
miss_var_summary(duosample)

duosample_mis <- duosample |> 
  select(prompt, time, client, format, session)

gg_miss_var(duosample_mis)
gg_miss_var(duosample_mis, 
            facet = client, 
            show_pct = TRUE)
gg_miss_var(duosample_mis, 
            facet = format, 
            show_pct = TRUE)
gg_miss_var(duosample_mis, 
            facet = session, 
            show_pct = TRUE)
gg_miss_upset(duosample_mis)

```

```{r viz-variable-dist}
duosample |>
  pivot_longer(cols = c(part_of_speech, 
                        client, 
                        session, 
                        format),
               names_to = "variable",
               values_to = "value") |>
  ggplot() +
  geom_bar(aes(value)) +
  facet_wrap(. ~ variable, 
             scales = "free") + 
  coord_flip()

duosample |>
  pivot_longer(cols = c(dependency_label, 
                        countries),
               names_to = "variable",
               values_to = "value") |>
  ggplot() +
  geom_bar(aes(value)) +
  facet_wrap(. ~ variable, 
             scales = "free") + 
  coord_flip()

duosample |>
  pivot_longer(cols = where(is.numeric), 
               names_to = "variable",
               values_to = "value") |>
  ggplot() +
  geom_histogram(aes(value)) +
  facet_wrap(. ~ variable, 
             scales = "free") 
```
